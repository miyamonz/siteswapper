{"version":3,"sources":["webpack:///./src/event.js","webpack:///./src/config.js","webpack:///./src/ball.js","webpack:///./src/canvas.js","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?ac35","webpack:///./src/components/Canvas.vue","webpack:///src/App.vue","webpack:///./src/App.vue?b212","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["src_event","Object","mitt_es","config","vue_esm","computed","nextThrowTime","this","elapsed","unitTime","currentHeight","nums","siteswapNum","toString","split","map","w","parseInt","length","data","ball_Ball","Ball","classCallCheck_default","geometry","three_module","material","color","circle","position","scene","add","assign_default","update","height","offset","t","from","to","fromX","x","flightTime","ut","y","gt","c","r","Math","abs","sin","PI","cos","remove","camera","renderer","axis","start","Date","canvas_update","requestAnimationFrame","emit","heightNum","ball","setHeight","on","time","ballTime","off","render","animate","Canvas","mounted","container","width","document","querySelector","clientWidth","clientHeight","setPixelRatio","window","devicePixelRatio","setSize","appendChild","domElement","set","components_Canvas","_h","$createElement","_self","_c","attrs","id","staticRenderFns","App","name","components","MyCanvas","__webpack_require__","normalizeComponent","ssrContext","number","get","n","console","log","selectortype_template_index_0_src_App","_vm","staticStyle","z-index","_v","directives","rawName","value","expression","type","domProps","input","$event","target","composing","_s","src_App","App_normalizeComponent","productionTip","el","template"],"mappings":"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","file":"static/js/app.3d33fab14ccc70368c52.js","sourcesContent":["import mitt from \"mitt\";\nexport default mitt();\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","import Vue from \"vue\";\nexport default new Vue({\n  computed: {\n    nextThrowTime() {\n      return (this.elapsed + 1) * this.unitTime;\n    },\n    currentHeight() {\n      const nums = this.siteswapNum\n        .toString()\n        .split(\"\")\n        .map(w => parseInt(w, 10));\n      const offset = this.elapsed % nums.length;\n      return nums[offset];\n    }\n  },\n  data() {\n    return {\n      elapsed: 0,\n      unitTime: 0.25,\n      siteswapNum: 7441\n    };\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import { Vector3 } from \"three\";\nimport { scene } from \"@/canvas\";\nimport emitter from \"@/event\";\nimport config from \"@/config\";\n\nimport { CircleGeometry, MeshBasicMaterial, Mesh } from \"three\";\n\nconst acc = 10;\n\nconst fromX = 0.5;\nconst toX = fromX * 3;\nclass Ball {\n  constructor() {\n    const geometry = new CircleGeometry(0.3, 32);\n    const material = new MeshBasicMaterial({ color: 0xffff00 });\n    const circle = new Mesh(geometry, material);\n    const position = new Vector3(0, 0, 0);\n    scene.add(circle);\n    Object.assign(this, { circle, position });\n    this.update(0);\n  }\n  setHeight(height, offset) {\n    //到達地点を偶数奇数でわける\n    this.height = height;\n    this.offset = offset;\n  }\n  update(t) {\n    const from = new Vector3(fromX, 0, 0);\n    const to = new Vector3(toX, 0, 0);\n    if (this.offset % 2 === 0) {\n      from.x *= -1;\n      to.x *= -1;\n    }\n    if (this.height % 2 === 1) to.x *= -1;\n    const allTime = this.height * config.unitTime;\n    const grabTime = 0.1;\n    const flightTime = allTime - grabTime;\n\n    const ut = t / flightTime;\n    if (t < flightTime) {\n      this.position.y = -acc * t * (t - flightTime);\n      this.position.x = from.x * (1 - ut) + to.x * ut;\n    } else {\n      const gt = (t - flightTime) / grabTime;\n      const c = (to.x + (to.x * fromX) / toX) / 2;\n      const r = (to.x - (to.x * fromX) / toX) / 2;\n\n      this.position.y = -Math.abs(r) * Math.sin(gt * Math.PI);\n      this.position.x = c + r * Math.cos(gt * Math.PI);\n    }\n\n    this.circle.position.x = this.position.x;\n    this.circle.position.y = this.position.y;\n  }\n  remove() {\n    scene.remove(this.circle);\n  }\n}\n\nexport function throwBall(elapsed, heightNum) {\n  let ball = new Ball();\n  ball.setHeight(heightNum, elapsed);\n\n  const update = time => {\n    const ballTime = time - elapsed * config.unitTime;\n    ball.update(ballTime);\n    if (ballTime > ball.height * config.unitTime) {\n      ball.remove();\n      emitter.off(\"animate\", update);\n    }\n  };\n  emitter.on(\"animate\", update);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ball.js","import emitter from \"@/event\";\nimport { WebGLRenderer, Scene, OrthographicCamera, AxesHelper } from \"three\";\nimport config from \"@/config\";\n\nimport { throwBall } from \"@/ball\";\nconst camera = new OrthographicCamera(-10, 10, 10, -10);\nconst renderer = new WebGLRenderer();\nexport const scene = new Scene();\nconst axis = new AxesHelper(100);\n\nexport const init = () => {\n  const container = document.querySelector(\"#container\");\n  const { clientWidth: width, clientHeight: height } = container;\n\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(width, height);\n\n  container.appendChild(renderer.domElement);\n\n  scene.add(axis);\n  camera.position.set(0, 6, 100);\n\n  update();\n};\n\nlet start = new Date();\nfunction update() {\n  requestAnimationFrame(update);\n  let t = (new Date() - start) / 1000;\n  animate(t);\n}\n\nfunction animate(t) {\n  emitter.emit(\"animate\", t);\n\n  if (config.nextThrowTime < t) {\n    config.elapsed++;\n\n    throwBall(config.elapsed, config.currentHeight);\n  }\n\n  renderer.render(scene, camera);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/canvas.js","<template>\n  <div id=\"container\">\n  </div>\n</template>\n<script>\nimport paper from \"paper\";\nimport { init } from \"@/canvas\";\nimport { throwBall } from \"@/ball\";\nexport default {\n  mounted() {\n    init();\n  },\n  data() {\n    return {};\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n#container {\n  position: fixed;\n  left: 0;\n  top: 0;\n  &,\n  & canvas {\n    width: 100vw;\n    height: 100vh;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Canvas.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b54f91ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b54f91ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Canvas.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b54f91ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Canvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b54f91ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <my-canvas style=\"z-index: -1\"/>\n      <input type=\"number\" v-model=\"number\" />\n      <p>\n      {{number}}\n      </p>\n  </div>\n</template>\n\n<script>\nimport MyCanvas from \"./components/Canvas\";\nimport config from \"@/config\";\n\nexport default {\n  name: \"App\",\n  components: {\n    MyCanvas\n  },\n  computed: {\n    number: {\n      get: function() {\n        return config.siteswapNum;\n      },\n      set: function(n) {\n        console.log(n);\n        config.siteswapNum = n;\n      }\n    }\n  },\n  data() {\n    return {};\n  }\n};\n</script>\n\n<style>\n#app {\n  margin-top: 60px;\n  z-index: 10;\n  color: white;\n}\ninput {\n  background: white;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('my-canvas',{staticStyle:{\"z-index\":\"-1\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.number),expression:\"number\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.number)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.number=$event.target.value}}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.number)+\"\\n    \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-093c682d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-093c682d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-093c682d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}